language: node_js
node_js:
  - "6"
install:
  - npm install
  - npm install gulp vinyl-ftp minimist gulp-images-resizer fancy-log --save-dev
script:
  - gulp
after_success:
  - find css -type f | xargs -P10 -n1 ./upload.sh
  - find img -type f | xargs -P10 -n1 ./upload.sh
  - find js -type f | xargs -P10 -n1 ./upload.sh
  - find thumb -type f | xargs -P10 -n1 ./upload.sh
  - find vendor -type f | xargs -P10 -n1 ./upload.sh
  - find . -name '*.html' | xargs -P10 -n1 ./upload.sh
  - find . -name '*.ico' | xargs -P10 -n1 ./upload.sh